<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>item-list-sorting-for-bank</title>
</head>

<body>
    <ul id="announcements">
        <li data-end="2021-09-27"><a href="#">25.09.2021 Папір офісний (30190000-7 офісне устаткування та приладдя
                різне). Документація. Кінцева дата 27.09-2021</a></li>
        <li data-end="2021-09-01"><a href="#">30.08.2021 Папір офісний (30190000-7 офісне устаткування та приладдя
                різне). Документація. Кінцева дата 01-09-2021</a></li>
        <li data-end="2021-08-23"><a href="#">20.08.2021 Папір офісний (30190000-7 офісне устаткування та приладдя
                різне). Документація. Кінцева дата 23-08-2021</a></li>
        <li data-end="2021-08-19"><a href="#">19.08.2021 Папір офісний (30190000-7 офісне устаткування та приладдя
                різне). Документація. Кінцева дата 19-08-2021</a></li>
        <li data-end="2021-08-03"><a href="#">01.08.2021 Папір офісний (30190000-7 офісне устаткування та приладдя
                різне). Документація. Кінцева дата 03-08-2021</a></li>
        <li data-end="2021-07-23"><a href="#">20.07.2021 Папір офісний (30190000-7 офісне устаткування та приладдя
                різне). Документація. Кінцева дата 23-07-2021</a></li>
    </ul>
    <script>
        let items = document.querySelectorAll('#announcements > li')

        for (let i = 0; i < items.length; i++) {
            let item = items[i];
            let endActive = item.getAttribute("data-end");
            endActiveDate = new Date(endActive + 'T14:00:00');
            console.log(endActiveDate);
            currentDate = new Date();
            console.log(currentDate);
            if (currentDate <= endActiveDate) { item.dataset.active = 'true' } else { item.dataset.active = 'false' };
        }

        function displayActuals(items) {
            let actualSubheader = document.createElement('h3');
            actualSubheader.innerHTML = 'Актуальні';
            document.body.prepend(actualSubheader);
            let ul = document.createElement('ul');
            ul.className = 'actual';
            actualSubheader.after(ul);
            for (let i = 0; i < items.length; i++) {
                let item = items[i];
                if (item.dataset.active == 'true') {
                    ul.append(item);
                }
            }
        }

        function displayNonActuals(items) {
            let nonActualSubheader = document.createElement('h3');
            nonActualSubheader.innerHTML = 'Не актуальні';
            document.body.prepend(nonActualSubheader);
            let ul = document.createElement('ul');
            ul.className = 'nonactual';
            nonActualSubheader.after(ul);
            for (let i = 0; i < items.length; i++) {
                let item = items[i];
                if (item.dataset.active == 'false') {
                    ul.append(item);
                }
            }
        }

        displayNonActuals(items);
        displayActuals(items);


    </script>
</body>

</html>